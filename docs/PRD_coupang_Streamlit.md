# 쿠팡 카피캣 PRD - Streamlit 버전

## 🎯 프로젝트 개요

### 제품명
**CoupangCopyCat Analytics** - Streamlit 기반 데이터 분석 웹앱

### 제품 비전
가장 빠르고 간단한 쿠팡 시장 분석 도구 - Python 한 언어로 완성하는 All-in-One 솔루션

### 핵심 가치
- **Ultra 빠른 개발**: Python만으로 웹앱 완성
- **즉시 배포**: Streamlit Cloud 원클릭 배포
- **데이터 사이언스 친화적**: Pandas, Plotly 등 익숙한 도구 활용

---

## 🏗 기술 스택

### 핵심 기술
- **웹 프레임워크**: Streamlit
- **HTML 파싱**: BeautifulSoup4
- **데이터 처리**: Pandas, NumPy
- **시각화**: Plotly
- **텍스트 분석**: 한국어 NLP
- **배포**: Streamlit Cloud (무료)

### 프로젝트 구조
```
coupangs/
├── main.py                 # Streamlit 메인 앱
├── parsers/                # HTML 파싱 엔진
│   ├── coupang_parser.py          # 검색 결과 파싱 (delivery_type 추출)
│   └── product_detail_parser.py   # 상품 상세 파싱
├── analyzers/              # 데이터 분석 엔진
│   ├── price_analyzer.py          # 가격 분석 ✅
│   ├── review_analyzer.py         # 리뷰 수 분석 ✅
│   └── delivery_analyzer.py       # 배송 타입 분석 ✅
├── docs/                   # 문서 및 세션 로그
│   ├── PRD_coupang_Streamlit.md
│   └── session_log/
└── logs/                   # 디버깅 로그 및 HTML 샘플
```

---

## 📊 대시보드 UI 구성 (4행 2열 그리드)

### 레이아웃 설계
```
┌─────────────────┬─────────────────┐
│    가격 분석    │   리뷰수 분석   │  ← 1행
│  상품별 막대차트  │  상품별 막대차트  │
├─────────────────┼─────────────────┤
│  상위10 판매량  │   조회수 분석   │  ← 2행
│  과거1달 트렌드  │  상품별 막대차트  │
├─────────────────┼─────────────────┤
│   판매형태 분석  │    광고 분석    │  ← 3행
│  가로바 차트    │   가로바 차트   │
├─────────────────┼─────────────────┤
│   검색 트렌드   │   리뷰 분석     │  ← 4행
│  과거3년 트렌드  │  감정 분석 결과  │
└─────────────────┴─────────────────┘
```

### 각 영역별 기능 (구현 상태별 분류)

#### 🟢 데이터 확보 가능 - 즉시 구현 대상
1. **가격 분석**: 상품별 가격 분포 및 통계 분석
2. **리뷰수 분석**: 상품별 리뷰수 랭킹 및 분포 분석  
3. **상위10 판매량**: 파싱된 데이터 기반 판매량 순위 (추정)
4. **판매형태 분석**: 로켓배송 vs 일반배송 비율 분석

#### 🟡 API 의존 - 데이터 소스 확보 후 구현
5. **조회수 분석**: 상품별 조회수 분석 (API 필요)
6. **광고 분석**: 광고 단가 및 효율 분석 (광고센터 API 필요)

#### 🔵 차후 구현 예정
7. **검색 트렌드**: 네이버 트렌드 API 연동 (과거 3년 데이터)
8. **리뷰 분석**: ReviewAnalyzer 구현 후 감정 분석

---

## 🚧 현재 개발 상태 (2025-09-30 기준)

### ✅ 완료된 기능 (Phase 1-5)

#### Phase 1: 기본 구조 ✅
- [x] Streamlit 앱 기본 구조
- [x] 파일 업로드 인터페이스
- [x] HTML 파일 읽기 및 기본 파싱
- [x] 샘플 차트 표시

#### Phase 2: 파싱 엔진 ✅  
- [x] 쿠팡 검색 결과 파싱 완성 (상품 36개 검증)
- [x] 상품 상세 페이지 파싱 (리뷰 10개 검증)
- [x] 데이터 검증 및 오류 처리
- [x] 캐싱으로 성능 최적화

#### Phase 3: 가격 분석 엔진 ✅
- [x] **PriceAnalyzer 완전 구현** (2025-09-29 완성)
- [x] **실제 HTML 구조 기반 가격 추출**
- [x] **36개 상품 가격 정상 추출** (1,100원~38,200원)
- [x] **가격 분석 차트 및 통계 완성**

#### Phase 4: UI/UX 그리드 구성 ✅
- [x] **4행 2열 그리드 대시보드 구성** (탭 방식 → 그리드 변경 완료)
- [x] **8개 영역별 기본 구조 구현** (함수 분리 및 레이아웃 완성)
- [x] 플레이스홀더 및 구현 상태 분류 완료

#### Phase 5: 데이터 기반 차트 완성 ✅ (2025-09-30 완성)
- [x] **가격 분석 완성**: 상품별 막대 그래프, 중간값 기준, 최소/중간/최대값 색상 구분
- [x] **리뷰수 분석 완성**: 상품별 막대 그래프, 중간값 기준, 오름차순 정렬
- [x] **배송 타입 분석 완성**: 로켓/그로스/일반배송 구분, 3개 정보 박스 + 스택 막대 그래프
- [x] **데이터 파싱 개선**: delivery_type 추출, 리뷰 수 CSS 클래스 수정
- [~] **상위10 판매량**: 데이터 부족으로 스킵 (일별 리뷰 수 변화 데이터 필요)

### 🚧 미완성 작업 (Phase 6-7)

#### Phase 6: API 의존 기능 구현 🟡 (데이터 소스 확보 후)
- [ ] **조회수 분석**: 상품별 조회수 API 연동
- [ ] **광고 분석**: 광고센터 데이터 연동 및 분석
- [ ] **상위10 판매량**: 일별 리뷰 수 변화 데이터 수집 후 구현

#### Phase 7: 고급 분석 기능 🔵 (차후 구현)
- [ ] **리뷰 감정 분석**: 텍스트 분석 및 키워드 추출
- [ ] **검색 트렌드**: 네이버 트렌드 API 연동
- [ ] 사용자 가이드 추가
- [ ] 에러 처리 강화

---

## 🎯 다음 세션 과제

### 우선순위 1: API 의존 기능 구현 🟡 (Phase 6)
- **상위10 판매량**: 일별 리뷰 수 변화 데이터 수집 방법 연구 및 구현
- **조회수 분석**: 데이터 소스 확보 후 상품별 조회수 분석
- **광고 분석**: 광고센터 API 연동 후 광고 효율 분석

### 우선순위 2: 고급 분석 기능 🔵 (Phase 7)
- **리뷰 감정 분석**: 한국어 NLP 기반 감정 분석 및 키워드 추출
- **검색 트렌드**: 네이버 트렌드 API 연동 (과거 3년 데이터)
- **배포 준비**: Streamlit Cloud 배포 및 사용자 가이드

### 우선순위 3: 개선 사항
- 차트 디자인 일관성 유지
- 에러 처리 강화
- 성능 최적화
- 사용자 경험 개선

---

## 🏆 핵심 성과 및 교훈

### 핵심 교훈
> **"HTML 구조 정확 분석 없이는 파싱 성공 불가능"**

**성공 방법론:**
1. **실제 HTML 구조 확인**: `logs/product_items.html` 파일 생성 및 분석
2. **로그 기반 단계별 분석**: 디버깅 로그로 문제 추적 및 해결
3. **실제 데이터 기반 구현**: 추측이 아닌 실제 구조 기반 CSS 선택자 사용
4. **사용자 피드백 반영**: 반복적인 UI/UX 개선으로 최적의 사용자 경험 제공

### 완성된 핵심 기능 (v0.5.0)
- ✅ **가격 분석**: 36개 상품 분석 (1,100원~38,200원, 중간값 8,500원)
- ✅ **리뷰 수 분석**: 상품별 리뷰 수 막대 그래프 (최대 4,977개)
- ✅ **배송 타입 분석**: 로켓/그로스/일반배송 비율 시각화
- ✅ **3개 Analyzer**: PriceAnalyzer, ReviewAnalyzer, DeliveryAnalyzer
- ✅ **데이터 파싱 강화**: delivery_type 추출, 리뷰 수 CSS 클래스 수정

---

## 📋 버전 정보

- **현재 버전**: v0.5.0 (데이터 기반 차트 3개 완성)
- **다음 버전**: v0.6.0 (API 의존 기능 구현)
- **목표 버전**: v1.0.0 (전체 기능 완성 + 배포)

### 버전 히스토리
- **v0.5.0** (2025-09-30): 가격/리뷰/배송 분석 완성
- **v0.4.0** (2025-09-29): 4행 2열 그리드 대시보드 완성
- **v0.3.0** (2025-09-29): PriceAnalyzer 완전 구현
- **v0.2.0** (2025-09-28): 파싱 엔진 완성
- **v0.1.0** (2025-09-27): 기본 구조 설정

---

*최종 업데이트: 2025-09-30*
